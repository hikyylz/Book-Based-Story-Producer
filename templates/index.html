<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book-Based Story Producer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css?v=2">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-icon">ğŸ“š</span>
                <span class="logo-text">Story Producer</span>
            </div>
            <div class="nav-links">
                <a href="/" class="nav-link active">Ana Sayfa</a>
                <a href="#library" class="nav-link">KÃ¼tÃ¼phane</a>
                <a href="#about" class="nav-link">HakkÄ±nda</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Hero Section -->
        <header class="hero">
            <div class="hero-content">
                <h1 class="hero-title">Literary Essence Reimagined</h1>
                <p class="hero-subtitle">Klasik eserlerin ruhunu yapay zeka ile yeniden yorumlayÄ±n. 
                   Bir kitap seÃ§in, karakterleri ve atmosferi analiz edelim, size Ã¶zgÃ¼n bir hikaye oluÅŸturalÄ±m.</p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number">{{ books|length }}</span>
                        <span class="stat-label">Kitap</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">âˆ</span>
                        <span class="stat-label">Hikaye</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">AI</span>
                        <span class="stat-label">Destekli</span>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <!-- Book Selection Section -->
            <section id="library" class="book-selection">
                <div class="section-header">
                    <h2>ğŸ“š KÃ¼tÃ¼phane</h2>
                    <p class="section-desc">Hikaye oluÅŸturmak iÃ§in bir klasik eser seÃ§in</p>
                </div>
                
                <div class="book-grid">
                    {% for book in books %}
                    <div class="book-card" onclick="selectBook('{{ book }}')" data-book="{{ book }}">
                        <div class="book-cover">
                            <div class="book-icon">ğŸ“–</div>
                            <div class="book-spine"></div>
                        </div>
                        <div class="book-info">
                            <div class="book-title">{{ book.replace('.txt', '') }}</div>
                            <div class="book-meta">Klasik Eser</div>
                        </div>
                        <div class="book-select-indicator">
                            <span class="checkmark">âœ“</span>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                
                <input type="hidden" id="selectedBook" value="">
                
                <!-- Story Options -->
                <div id="storyOptions" class="story-options hidden">
                    <h3>âš™ï¸ Hikaye AyarlarÄ±</h3>
                    <div class="options-grid">
                        <div class="option-group">
                            <label for="storyLength">Hikaye UzunluÄŸu</label>
                            <select id="storyLength">
                                <option value="short">KÄ±sa (~500 kelime)</option>
                                <option value="medium" selected>Orta (~1000 kelime)</option>
                                <option value="long">Uzun (~2000 kelime)</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label for="storyStyle">AnlatÄ±m TarzÄ±</label>
                            <select id="storyStyle">
                                <option value="same">Orijinal tarzda</option>
                                <option value="modern">Modern yorumlama</option>
                                <option value="dramatic">Dramatik</option>
                                <option value="poetic">Åiirsel</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <button id="generateBtn" onclick="generateStory()" disabled>
                    <span class="btn-icon">âœ¨</span>
                    <span class="btn-text">Hikaye OluÅŸtur</span>
                </button>
            </section>

            <!-- Loading Section -->
            <section id="loadingSection" class="loading-section hidden">
                <div class="loading-card">
                    <div class="loading-animation">
                        <div class="book-loader">
                            <div class="book-page"></div>
                            <div class="book-page"></div>
                            <div class="book-page"></div>
                        </div>
                    </div>
                    <h3 class="loading-title">Kitap Analiz Ediliyor...</h3>
                    <p class="loading-subtitle" id="loadingText">Karakterler ve atmosfer Ã§Ä±karÄ±lÄ±yor</p>
                    
                    <!-- Progress Steps -->
                    <div class="progress-steps">
                        <div class="step" id="step1">
                            <div class="step-indicator active">
                                <span class="step-icon">ğŸ“–</span>
                            </div>
                            <span class="step-text">Metin Temizleniyor</span>
                        </div>
                        <div class="step-line"></div>
                        <div class="step" id="step2">
                            <div class="step-indicator">
                                <span class="step-icon">ğŸ”</span>
                            </div>
                            <span class="step-text">Analiz Ediliyor</span>
                        </div>
                        <div class="step-line"></div>
                        <div class="step" id="step3">
                            <div class="step-indicator">
                                <span class="step-icon">âœï¸</span>
                            </div>
                            <span class="step-text">Hikaye YazÄ±lÄ±yor</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Analysis Section -->
            <section id="analysisSection" class="analysis-section hidden">
                <div class="section-header">
                    <h2>ğŸ“Š Analiz SonuÃ§larÄ±</h2>
                    <p class="section-desc">Kitaptan Ã§Ä±karÄ±lan veriler</p>
                </div>
                
                <div class="analysis-grid">
                    <!-- Characters -->
                    <div class="analysis-card characters-card">
                        <div class="card-header">
                            <span class="card-icon">ğŸ‘¥</span>
                            <h4>Karakterler</h4>
                        </div>
                        <div class="card-content" id="charactersContent">
                            <!-- Will be filled by JS -->
                        </div>
                    </div>
                    
                    <!-- Mood -->
                    <div class="analysis-card mood-card">
                        <div class="card-header">
                            <span class="card-icon">ğŸ­</span>
                            <h4>Atmosfer</h4>
                        </div>
                        <div class="card-content" id="moodContent">
                            <!-- Will be filled by JS -->
                        </div>
                    </div>
                    
                    <!-- Sentiment -->
                    <div class="analysis-card sentiment-card">
                        <div class="card-header">
                            <span class="card-icon">ğŸ’­</span>
                            <h4>Duygu Analizi</h4>
                        </div>
                        <div class="card-content" id="sentimentContent">
                            <!-- Will be filled by JS -->
                        </div>
                    </div>
                    
                    <!-- Keywords -->
                    <div class="analysis-card keywords-card">
                        <div class="card-header">
                            <span class="card-icon">ğŸ”‘</span>
                            <h4>Anahtar Kelimeler</h4>
                        </div>
                        <div class="card-content" id="keywordsContent">
                            <!-- Will be filled by JS -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Result Section -->
            <section id="resultSection" class="result-section hidden">
                <div class="result-card">
                    <div class="result-header">
                        <div class="result-title">
                            <span class="result-icon">ğŸ“–</span>
                            <h2>Ãœretilen Hikaye</h2>
                        </div>
                        <div class="result-actions">
                            <button onclick="copyStory()" class="action-btn copy-btn" title="Kopyala">
                                <span>ğŸ“‹</span> Kopyala
                            </button>
                            <button onclick="saveStory()" class="action-btn download-btn" title="Ä°ndir">
                                <span>â¬‡ï¸</span> Ä°ndir
                            </button>
                        </div>
                    </div>
                    
                    <div id="storyContent" class="story-content"></div>
                    
                    <div class="result-footer">
                        <button onclick="regenerateStory()" class="regenerate-btn">
                            <span>ğŸ”„</span> FarklÄ± Versiyon OluÅŸtur
                        </button>
                        <button onclick="newStory()" class="new-story-btn">
                            <span>ğŸ“š</span> Yeni Kitap SeÃ§
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer id="about" class="footer">
            <div class="footer-content">
                <div class="footer-info">
                    <h3>ğŸ“š Book-Based Story Producer</h3>
                    <p>Klasik edebiyat eserlerinden yapay zeka destekli hikaye Ã¼retimi.</p>
                </div>
                <div class="footer-tech">
                    <h4>KullanÄ±lan Teknolojiler</h4>
                    <div class="tech-badges">
                        <span class="tech-badge">Python</span>
                        <span class="tech-badge">FastAPI</span>
                        <span class="tech-badge">spaCy</span>
                        <span class="tech-badge">Gemini AI</span>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2026 Book-Based Story Producer</p>
            </div>
        </footer>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        <span id="toastMessage"></span>
    </div>
    
    <script src="/static/js/script.js?v=2"></script>
</body>
</html>
